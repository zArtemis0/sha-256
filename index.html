<button onclick="generate()">Generate</button>
<p>Generation: <span id="gen">0</span></p>
<p>Current Input: <span id="input"></span></p>
<p>Current Hash: <span id="hash"></span></p>
<p>Lowest Hash: <span id="lowhash">—</span></p>
<p>Lowest Input: <span id="lowinput">—</span></p>

<script>
let counter = 0;
let chars = '0123456789abcdefghijklmnopqrstuvwxyz';
let lowestHash = null;
let lowestInput = null;

function toBaseN(num, chars) {
    let base = chars.length;
    let result = '';
    do {
        result = chars[num % base] + result;
        num = Math.floor(num / base);
    } while (num > 0);
    return result;
}

async function generate() {
    let inputString = toBaseN(counter, chars); // fully auto base-N counting
    counter++;

    let encoder = new TextEncoder();
    let data = encoder.encode(inputString);
    let hashBuffer = await crypto.subtle.digest('SHA-256', data);
    let hashArray = Array.from(new Uint8Array(hashBuffer));
    let hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');

    // Track lowest hash
    if (lowestHash === null || hashHex < lowestHash) {
        lowestHash = hashHex;
        lowestInput = inputString;
    }

    // Update page
    document.getElementById('gen').textContent = counter;
    document.getElementById('input').textContent = inputString;
    document.getElementById('hash').textContent = hashHex;
    document.getElementById('lowhash').textContent = lowestHash;
    document.getElementById('lowinput').textContent = lowestInput;
}
</script>
