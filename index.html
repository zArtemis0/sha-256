<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Real-System Miner</title>
</head>
<body>
  <h1>Real-System Miner</h1>
  <p>Generation: <span id="gen">0</span></p>
  <p>Current Input: <span id="input">—</span></p>
  <p>Current Hash: <span id="hash">—</span></p>
  <p>Lowest Hash: <span id="lowest">—</span></p>
  <p>Lowest From Input: <span id="lowestInput">—</span></p>

  <script>
    async function sha256(message) {
      const msgBuffer = new TextEncoder().encode(message);
      const hashBuffer = await crypto.subtle.digest("SHA-256", msgBuffer);
      const hashArray = Array.from(new Uint8Array(hashBuffer));
      return hashArray.map(b => b.toString(16).padStart(2, "0")).join("");
    }

    let generation = 0;
    let lowestHash = null;
    let lowestInput = null;

    async function mineStep() {
      generation++;

      // Actual input (random string per generation)
      const input = Math.random().toString(36).substring(2, 10) + "_" + generation;
      const hash = await sha256(input);

      // Update lowest hash tracker
      if (!lowestHash || hash < lowestHash) {
        lowestHash = hash;
        lowestInput = input;
      }

      // Update UI
      document.getElementById("gen").textContent = generation;
      document.getElementById("input").textContent = input;
      document.getElementById("hash").textContent = hash;
      document.getElementById("lowest").textContent = lowestHash;
      document.getElementById("lowestInput").textContent = lowestInput;

      // Keep looping
      setTimeout(mineStep, 10); 
    }

    mineStep();
  </script>
</body>
</html>
