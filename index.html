<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Real SHA-256 Miner (Local)</title>
  <style>
    body { font-family: monospace; background: #111; color: #0f0; padding: 20px; }
    h1 { color: #0ff; }
    .stat { margin: 5px 0; }
    .hash { word-wrap: break-word; }
  </style>
</head>
<body>
  <h1>Real SHA-256 Miner</h1>
  <div class="stat">Generation: <span id="gen">0</span></div>
  <div class="stat">Current Input: <span id="input">—</span></div>
  <div class="stat">Current Hash: <span id="hash">—</span></div>
  <div class="stat">Lowest Hash: <span id="lowest">—</span></div>

  <script>
    async function sha256(message) {
      const msgBuffer = new TextEncoder().encode(message);
      const hashBuffer = await crypto.subtle.digest("SHA-256", msgBuffer);
      const hashArray = Array.from(new Uint8Array(hashBuffer));
      return hashArray.map(b => b.toString(16).padStart(2, "0")).join("");
    }

    let generation = 0;
    let lowestHash = null;
    let lowestInput = null;

    async function mineStep() {
      generation++;

      // Use actual input (random string instead of "input_###")
      const input = Math.random().toString(36).substring(2, 10) + "_" + generation;
      const hash = await sha256(input);

      // Update lowest
      if (!lowestHash || hash < lowestHash) {
        lowestHash = hash;
        lowestInput = input;
      }

      // Update UI
      document.getElementById("gen").textContent = generation;
      document.getElementById("input").textContent = input;
      document.getElementById("hash").textContent = hash;
      document.getElementById("lowest").textContent = lowestHash + " (from: " + lowestInput + ")";

      // Keep mining
      setTimeout(mineStep, 10); // adjust speed here
    }

    mineStep();
  </script>
</body>
</html>
